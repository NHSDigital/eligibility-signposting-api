### CampaignConfig Validation Rules

| Key                                                                           | Validation | Data Type    | Uniqueness          | Enum/Allowed Values                                                                                                             | Cross-field/Conditional                                                        |
|-------------------------------------------------------------------------------|------------|--------------|---------------------|---------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
| CampaignConfig.ID                                                             | Mandatory  | string       | Unique              | -                                                                                                                               | -                                                                              |
| CampaignConfig.Version                                                        | Mandatory  | int          | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Name                                                           | Mandatory  | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Type                                                           | Mandatory  | string       | -                   | V, S                                                                                                                            | -                                                                              |
| CampaignConfig.Target                                                         | Mandatory  | string       | -                   | See [`config/constants.py`](../eligibility_signposting_api/config/constants.py) for the definition of `ALLOWED_CONDITIONS`.     | -                                                                              |
| CampaignConfig.Manager                                                        | Optional   | list[string] | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Approver                                                       | Optional   | list[string] | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Reviewer                                                       | Optional   | list[string] | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.IterationFrequency                                             | Mandatory  | string       | -                   | X, D, W, M, Q, A                                                                                                                | -                                                                              |
| CampaignConfig.IterationType                                                  | Mandatory  | string       | -                   | A, M, S, O                                                                                                                      | -                                                                              |
| CampaignConfig.IterationTime                                                  | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.DefaultCommsRouting                                            | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.StartDate                                                      | Mandatory  | date         | -                   | -                                                                                                                               | StartDate < EndDate                                                            |
| CampaignConfig.EndDate                                                        | Mandatory  | date         | -                   | -                                                                                                                               | EndDate > StartDate                                                            |
| CampaignConfig.ApprovalMinimum                                                | Optional   | int          | -                   | -                                                                                                                               | ApprovalMinimum ≤ ApprovalMaximum                                              |
| CampaignConfig.ApprovalMaximum                                                | Optional   | int          | -                   | -                                                                                                                               | ApprovalMaximum ≥ ApprovalMinimum                                              |
| CampaignConfig.Iterations[x].ID                                               | Mandatory  | string       | Unique              | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].Version                                          | Mandatory  | int          | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].Name                                             | Mandatory  | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationDate                                    | Mandatory  | date         | Unique              | -                                                                                                                               | No overlapping dates                                                           |
| CampaignConfig.Iterations[x].IterationNumber                                  | Optional   | int          | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].ApprovalMinimum                                  | Optional   | int          | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].ApprovalMaximum                                  | Optional   | int          | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].Type                                             | Mandatory  | string       | -                   | A, M, S, O                                                                                                                      | -                                                                              |
| CampaignConfig.Iterations[x].DefaultCommsRouting                              | Mandatory  | string       | -                   | -                                                                                                                               | Each value in this field must match a key in ActionsMapper.                    |
| CampaignConfig.Iterations[x].DefaultNotEligibleRouting                        | Mandatory  | string       | -                   | -                                                                                                                               | Each value in this field must match a key in ActionsMapper.                    |
| CampaignConfig.Iterations[x].DefaultNotActionableRouting                      | Mandatory  | string       | -                   | -                                                                                                                               | Each value in this field must match a key in ActionsMapper.                    |
| CampaignConfig.Iterations[x].IterationCohorts[y].CohortLabel                  | Mandatory  | string       | Unique in iteration | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationCohorts[y].CohortGroup                  | Mandatory  | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationCohorts[y].PositiveDescription          | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationCohorts[y].NegativeDescription          | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationCohorts[y].Priority                     | Optional   | int          | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationCohorts[y].Virtual                      | Optional   | string       | -                   | Y, N                                                                                                                            | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].Type                           | Mandatory  | string       | -                   | F, S, R, X, Y                                                                                                                   | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].Name                           | Mandatory  | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].Description                    | Mandatory  | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].Operator                       | Mandatory  | string       | -                   | See [`model/campaign_config.py`](../eligibility_signposting_api/model/campaign_config.py) for the definition of `RuleOperator`. | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].Comparator                     | Mandatory  | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].AttributeTarget                | Optional   | string       | -                   | -                                                                                                                               | Required and non-null if AttributeLevel == TARGET                              |
| CampaignConfig.Iterations[x].IterationRules[z].AttributeLevel                 | Mandatory  | string       | -                   | PERSON, TARGET, COHORT                                                                                                          | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].AttributeName                  | Optional   | string       | -                   | -                                                                                                                               | If AttributeLevel is COHORT, AttributeName must be COHORT_LABEL or left blank. |
| CampaignConfig.Iterations[x].IterationRules[z].CohortLabel                    | Optional   | string       | -                   | -                                                                                                                               | Required if AttributeLevel == COHORT                                           |
| CampaignConfig.Iterations[x].IterationRules[z].Priority                       | Mandatory  | int          | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].RuleStop                       | Optional   | bool         | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].IterationRules[z].CommsRouting                   | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].ActionsMapper.DEFAULT_ACTION.ExternalRoutingCode | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].ActionsMapper.DEFAULT_ACTION.ActionDescription   | Optional   | string       | -                   | Must be valid Markdown and follow style rules (headers, lists, blank lines)                                                     | -                                                                              |
| CampaignConfig.Iterations[x].ActionsMapper.DEFAULT_ACTION.ActionType          | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].ActionsMapper.DEFAULT_ACTION.UrlLink             | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |
| CampaignConfig.Iterations[x].ActionsMapper.DEFAULT_ACTION.UrlLabel            | Optional   | string       | -                   | -                                                                                                                               | -                                                                              |

